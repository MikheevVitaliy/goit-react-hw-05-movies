"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[964],{5357:function(e,t,r){r.d(t,{X:function(){return f}});var n=r(7689),a=r(1087),s="MoviesItem_moviesCard__section__f4ICH",c="MoviesItem_moviesCard__link__o0OWp",o="MoviesItem_moviesCard__img__gerAc",i="MoviesItem_moviesCard__info__9t+TG",u="MoviesItem_moviesCard__info_title__klCcO",h="MoviesItem_moviesCard__info_text__znEYC",p=r(184),f=function(e){var t=e.id,r=e.title,f=e.imagePath,m=e.vote,l=(0,n.TH)(),v=l.pathname,_=l.search,d="".concat(v).concat(_);return(0,p.jsx)("li",{className:s,children:(0,p.jsxs)(a.Link,{className:c,to:"/movies/".concat(t),state:{from:d},children:[(0,p.jsx)("img",{className:o,src:f,alt:r}),(0,p.jsxs)("div",{className:i,children:[(0,p.jsx)("h4",{className:u,children:r}),(0,p.jsx)("p",{className:h,children:m})]})]})})}},3524:function(e,t,r){r.d(t,{AG:function(){return s},MH:function(){return n},si:function(){return a}});var n="https://image.tmdb.org/t/p/w500",a="https://via.placeholder.com/100x150",s="https://placehold.jp/200x300.png"},2964:function(e,t,r){r.r(t),r.d(t,{default:function(){return S}});var n=r(5861),a=r(9439),s=r(4687),c=r.n(s),o=r(4390),i=r(7214),u=r(5357),h=r(2791),p=r(6795),f=r(7692),m="SearchForm_search__section__epMt7",l="SearchForm_search__form__jrxBg",v="SearchForm_search__input__w7BzV",_="SearchForm_search__button__ufdDR",d=r(2007),x=r.n(d),g=r(184),y=function(e){var t=e.onSubmit,r=e.onChange,n=(0,h.useState)(""),s=(0,a.Z)(n,2),c=s[0],o=s[1];return(0,g.jsx)("div",{className:m,children:(0,g.jsxs)("form",{className:l,onSubmit:function(e){if(e.preventDefault(),""===c.trim())return p.Am.warn("Enter your query in the search bar!");t(c),o("")},children:[(0,g.jsx)("input",{className:v,type:"text",name:"query",value:c,autoComplete:"off",autoFocus:!0,placeholder:"Search movies",onChange:function(e){o(e.currentTarget.value.toLowerCase()),r(e.currentTarget.value.toLowerCase())}}),(0,g.jsx)("button",{className:_,type:"submit",children:(0,g.jsx)(f.Goc,{size:23})})]})})};y.propsType={onSubmit:x().func.isRequired};var w=r(3524),b=r(1087),k="Movies_movies__list__+pxmY",S=function(){var e,t=(0,b.useSearchParams)(),r=(0,a.Z)(t,2),s=r[0],f=r[1],m=(0,h.useState)(null!==(e=s.get("search"))&&void 0!==e?e:""),l=(0,a.Z)(m,2),v=l[0],_=l[1],d=(0,h.useState)([]),x=(0,a.Z)(d,2),S=x[0],j=x[1],C=(0,h.useState)(!1),M=(0,a.Z)(C,2),Z=M[0],N=M[1];(0,h.useEffect)((function(){function e(){return(e=(0,n.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.Z.fetchSearchMovies(v);case 3:t=e.sent,j(t),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),p.Am.error("Sorry, there are no movies matching your search query. Please try again.");case 11:return e.prev=11,N(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,7,11,14]])})))).apply(this,arguments)}v&&(N(!0),function(){e.apply(this,arguments)}())}),[v]);return(0,g.jsxs)("main",{children:[(0,g.jsx)(y,{onSubmit:function(e){_(e),j([])},onChange:function(e){f(""!==e?{search:e}:{})}}),Z&&(0,g.jsx)(i.a,{}),(0,g.jsx)("ul",{className:k,children:S.map((function(e){var t=e.id,r=e.title,n=e.poster_path,a=e.vote_average;return(0,g.jsx)(u.X,{id:t,title:r,imagePath:n?w.MH+n:w.si,vote:a?a.toFixed(1):"No vote"},t)}))})]})}},4390:function(e,t,r){var n=r(5861),a=r(4687),s=r.n(a),c=r(1243).Z.create({baseURL:"https://api.themoviedb.org/3/",params:{api_key:"b0e0648964ab116875dee356a1ceb23b",language:"en-US"}});function o(){return(o=(0,n.Z)(s().mark((function e(){var t,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.get("trending/movie/day");case 2:if(t=e.sent,(r=t.data.results).length){e.next=6;break}throw new Error("Sorry, there are no movies.");case 6:return e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function i(){return(i=(0,n.Z)(s().mark((function e(t){var r,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.get("movie/".concat(t));case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(){return(u=(0,n.Z)(s().mark((function e(t){var r,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.get("search/movie?query=".concat(t));case 2:if(r=e.sent,(n=r.data.results).length){e.next=6;break}throw new Error("Sorry, there are no movies matching your search query. Please try again.");case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(){return(h=(0,n.Z)(s().mark((function e(t){var r,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.get("movie/".concat(t,"/credits"));case 2:if(r=e.sent,(n=r.data.cast).length){e.next=6;break}throw new Error("Not found cast...");case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(){return(p=(0,n.Z)(s().mark((function e(t){var r,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.get("movie/".concat(t,"/reviews"));case 2:return r=e.sent,n=r.data.results,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var f={fetchTrendingMovies:function(){return o.apply(this,arguments)},fetchMovieById:function(e){return i.apply(this,arguments)},fetchSearchMovies:function(e){return u.apply(this,arguments)},fetchMovieCredits:function(e){return h.apply(this,arguments)},fetchMovieReviews:function(e){return p.apply(this,arguments)}};t.Z=f}}]);
//# sourceMappingURL=964.ab50c6fd.chunk.js.map